<div>
  <body style="background-color: #7f7f7f">
    <center>
      <div id="color-output" style="width:200; height:200; background-color: #000000; -moz-border-radius: 0%;
     -webkit-border-radius: 0%"; border-radius: 0% "></div>
   </center>
 
   <center>
     <input type="button" value="Next color!" onclick="setcolor()"></input></center>
   <center>
     <input id="r-input" value=""> r <b id="r-out"></b>
   </center>
   <center>
     <input id="g-input" value=""> g <b id="g-out"></b>
   </center>
   <center>
     <input id="b-input" value=""> b <b id="b-out"></b>
   </center>
   <center>
     <input type="button" value="Submit" onclick="calculateResult()"></input>
   </center>
 </body>
</div>
 
<script>
 DEFSTYLE = 'width:200; height:200; -moz-border-radius: 0%; -webkit-border-radius: 0%; border-radius: 0%; background-color:'
 BYTE_TO_PERCENTAGE = 100/255
 currcolor  = {
   'r' :0,
   'g' :0,
   'b' :0,
 }
 function randComponent(){
   return Math.round(Math.random()*255)
 };
 function rgb_from(a,b,c){
   return { 'r':a, 'g':b, 'b':c }
 }
 
 function randomColor(){
   rgb = rgb_from(randComponent(),randComponent(),randComponent())
   return {
     'color' : rgb_from(Math.round(rgb.r*BYTE_TO_PERCENTAGE), Math.round(rgb.g*BYTE_TO_PERCENTAGE), Math.round(rgb.b*BYTE_TO_PERCENTAGE)),
     'hex': '#' + rgb.r.toString(16) + rgb.g.toString(16) + rgb.b.toString(16)
     }
 }
 function setcolor(){
   flushInputs()
   square = document.getElementById('color-output')
   randcolor = randomColor()
   console.log(randcolor);
   square.setAttribute('style',DEFSTYLE + randcolor.hex)
   currcolor = randcolor.color
 };
 function flushInputs(){
   document.getElementById('r-input').value=''
   document.getElementById('g-input').value=''
   document.getElementById('b-input').value=''
 }
 function collectInputs(){
   return {
     'r': document.getElementById('r-input').value,
     'g': document.getElementById('g-input').value,
     'b': document.getElementById('b-input').value,
   }
 }
 function outputResults(results,true_color){
   document.getElementById('r-out').textContent='true color is '+ true_color.r + '; difference is '+ results.r
   document.getElementById('g-out').textContent='true color is '+ true_color.g + '; difference is '+ results.g
   document.getElementById('b-out').textContent='true color is '+ true_color.b + '; difference is '+ results.b
 }
 function calculateResult(){
   answers = collectInputs()
   console.log(answers)
   console.log(currcolor)
   rgb = currcolor
   differences = rgb_from(
     rgb.r - answers.r,
     rgb.g - answers.g,
     rgb.b - answers.b,
   )
   outputResults(differences,rgb)
 }
</script>
